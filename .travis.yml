language: objective-c
matrix:
  include:
    - env: OSX=10.11
      os: osx
      osx_image: osx10.11
      rvm: system

before_install:
  - if [ -f ".git/shallow" ]; then travis_retry git fetch --unshallow; fi
  - git submodule update --init --recursive
  - whoami
  - pwd
  - ls
  - git status
  - ls ~
  - echo $HOME
  - env

script:
  - echo hello
  - env
  - mkdir build
  - cd build
  - cmake ..
  - make -j 4
  - make install
  - source ../dist/bin/activate.sh
  - deepcl_unittests tests=-DATA*:SLOW*:testClBlas*:testDeepCL.basic:testupdateweights*:testforward*:testsimpleconvolvenet*:testlogicaloperators*:testbackward*:testsinglebatch*:EXCLUDED*:testpoolingforward*:testCopyBlock.basic:testCopyLocal.basic:testactivationforward*:testdropoutforward*:testsgd.basic:testCLMathWrapper.sqrt

notifications:
  email:
    on_success: never
    on_failure: never

